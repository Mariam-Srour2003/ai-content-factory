<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Content Factory</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>
    <link rel="stylesheet" href="/static/styles.css">
</head>
<body>
    <div id="app" class="min-h-screen bg-slate-50">
        <!-- Header -->
        <header class="header">
            <div class="header-content">
                <div class="header-left">
                    <div class="logo-container">
                        <svg class="logo-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z"/>
                        </svg>
                    </div>
                    <div>
                        <h1 class="header-title">Content Factory</h1>
                        <p class="header-subtitle">AI-Powered Content Generation</p>
                    </div>
                </div>
                <button onclick="toggleMenu()" class="menu-toggle" id="menuToggle">
                    <svg class="menu-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"/>
                    </svg>
                </button>
            </div>
        </header>

        <div class="main-layout">
            <!-- Sidebar -->
            <aside class="sidebar" id="sidebar">
                <nav class="nav-menu">
                    <button class="nav-item active" onclick="switchTab('dashboard')" data-tab="dashboard">
                        <svg class="nav-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"/>
                        </svg>
                        <span>Dashboard</span>
                    </button>
                    <button class="nav-item" onclick="switchTab('create')" data-tab="create">
                        <svg class="nav-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4"/>
                        </svg>
                        <span>Create Content</span>
                    </button>
                    <button class="nav-item" onclick="switchTab('library')" data-tab="library">
                        <svg class="nav-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"/>
                        </svg>
                        <span>Content Library</span>
                    </button>
                    <button class="nav-item" onclick="switchTab('analytics')" data-tab="analytics">
                        <svg class="nav-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 8v8m-4-5v5m-4-2v2m-2 4h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"/>
                        </svg>
                        <span>Analytics</span>
                    </button>
                    <button class="nav-item" onclick="switchTab('research')" data-tab="research">
                        <svg class="nav-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"/>
                        </svg>
                        <span>Research</span>
                    </button>
                    <button class="nav-item" onclick="switchTab('seo')" data-tab="seo">
                        <svg class="nav-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"/>
                        </svg>
                        <span>SEO Strategy</span>
                    </button>
                    <button class="nav-item" onclick="switchTab('settings')" data-tab="settings">
                        <svg class="nav-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"/><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"/>
                        </svg>
                        <span>Settings</span>
                    </button>
                </nav>
            </aside>

            <!-- Main Content -->
            <main class="main-content">
                <!-- Dashboard Tab -->
                <div id="dashboard-tab" class="tab-content active">
                    <div class="tab-header">
                        <h2 class="tab-title">Dashboard</h2>
                        <button onclick="showCreateModal()" class="btn-primary">
                            <svg class="btn-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4"/>
                            </svg>
                            Generate Content
                        </button>
                    </div>

                    <div class="kpi-grid" id="kpiGrid">
                        <!-- KPIs will be loaded here -->
                    </div>

                    <div class="charts-grid">
                        <div class="card">
                            <h3 class="card-title">Quality & Brand Voice Metrics</h3>
                            <div class="chart-container">
                                <canvas id="performanceChart"></canvas>
                            </div>
                        </div>
                        <div class="card">
                            <h3 class="card-title">Readability & Generation Time</h3>
                            <div class="chart-container">
                                <canvas id="rankingChart"></canvas>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Create Content Tab -->
                <div id="create-tab" class="tab-content">
                    <h2 class="tab-title">Generate New Content</h2>
                    <div class="card form-card">
                        <form id="contentForm" onsubmit="generateContent(event)">
                            <div class="form-group">
                                <label class="form-label">Topic *</label>
                                <input type="text" name="topic" class="form-input" placeholder="e.g., How to implement AI in marketing" required>
                                <small class="form-help">The main topic or title for your article</small>
                            </div>

                            <div class="form-group">
                                <label class="form-label">Target Keyword *</label>
                                <input type="text" name="target_keyword" class="form-input" placeholder="Primary keyword to optimize for" required>
                                <small class="form-help">Main SEO keyword to focus on</small>
                            </div>

                            <div class="form-row">
                                <div class="form-group">
                                    <label class="form-label">Word Count</label>
                                    <select name="word_count" class="form-input">
                                        <option value="1000">1000 words</option>
                                        <option value="1500" selected>1500 words</option>
                                        <option value="2000">2000 words</option>
                                        <option value="2500">2500 words</option>
                                        <option value="3000">3000 words</option>
                                    </select>
                                </div>
                                <div class="form-group">
                                    <label class="form-label">Content Type</label>
                                    <select name="content_type" class="form-input">
                                        <option value="blog_post">Blog Post</option>
                                        <option value="guide">Guide</option>
                                        <option value="tutorial">Tutorial</option>
                                        <option value="case_study">Case Study</option>
                                        <option value="whitepaper">Whitepaper</option>
                                    </select>
                                </div>
                            </div>

                            <div class="form-group">
                                <label class="form-label">Target Audience</label>
                                <input type="text" name="target_audience" class="form-input" placeholder="e.g., Marketing professionals, Business owners" value="general readers">
                                <small class="form-help">Who is this content written for?</small>
                            </div>

                            <button type="submit" class="btn-primary btn-full">
                                <svg class="btn-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z"/>
                                </svg>
                                Generate Content
                            </button>
                        </form>
                    </div>
                    <div class="card" style="margin-top: 1.5rem; background: #f8f9fa; border-left: 4px solid #4f46e5;">
                        <p style="margin: 0; color: #6b7280; font-size: 0.875rem;">
                            <strong>Note:</strong> Brand voice is automatically applied from your stored brand voice samples in ChromaDB.
                        </p>
                    </div>
                </div>

                <!-- Content Library Tab -->
                <div id="library-tab" class="tab-content">
                    <div class="tab-header">
                        <h2 class="tab-title">Content Library</h2>
                        <input type="text" id="searchInput" class="search-input" placeholder="Search content..." onkeyup="filterContent()">
                    </div>

                    <div class="card table-card">
                        <div class="table-container">
                            <table class="content-table">
                                <thead>
                                    <tr>
                                        <th>Title</th>
                                        <th>Status</th>
                                        <th>Leads</th>
                                        <th>Ranking</th>
                                        <th>Date</th>
                                        <th>Actions</th>
                                    </tr>
                                </thead>
                                <tbody id="contentTableBody">
                                    <!-- Content will be loaded here -->
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>

                <!-- Analytics Tab -->
                <div id="analytics-tab" class="tab-content">
                    <h2 class="tab-title">üìä Analytics & Insights</h2>
                    
                    <!-- Analytics Navigation -->
                    <div class="analytics-nav">
                        <button class="analytics-nav-btn active" onclick="showAnalyticsSection('overview')">Overview</button>
                        <button class="analytics-nav-btn" onclick="showAnalyticsSection('seo-performance')">SEO Performance</button>
                        <button class="analytics-nav-btn" onclick="showAnalyticsSection('content-effectiveness')">Content Effectiveness</button>
                        <button class="analytics-nav-btn" onclick="showAnalyticsSection('search-insights')">Search Insights</button>
                    </div>

                    <!-- Overview Section -->
                    <div id="overview-section" class="analytics-section active">
                        <div class="analytics-grid">
                            <div class="card">
                                <h3 class="card-subtitle">Top Performing Topics</h3>
                                <div id="topTopics" class="metric-list">
                                    <!-- Topics will be loaded here -->
                                </div>
                            </div>

                            <div class="card">
                                <h3 class="card-subtitle">Content Status</h3>
                                <div id="statusBreakdown" class="metric-list">
                                    <!-- Status breakdown will be loaded here -->
                                </div>
                            </div>

                            <div class="card">
                                <h3 class="card-subtitle">Quality Metrics</h3>
                                <div id="efficiencyMetrics" class="metric-list">
                                    <!-- Metrics will be loaded here -->
                                </div>
                            </div>
                        </div>

                      
                    </div>

                    <!-- SEO Performance Section -->
                    <div id="seo-performance-section" class="analytics-section">
                        <div class="insights-grid">
                            <div class="card">
                                <h3 class="card-subtitle">üéØ Keyword Performance</h3>
                                <div id="keywordPerformance" class="insights-content">
                                    <div class="loading-placeholder">Loading...</div>
                                </div>
                            </div>

                            <div class="card">
                                <h3 class="card-subtitle">üìà Search Volume Trends</h3>
                                <div id="volumeTrends" class="insights-content">
                                    <div class="loading-placeholder">Loading...</div>
                                </div>
                            </div>

                            <div class="card">
                                <h3 class="card-subtitle">üé≤ Difficulty Distribution</h3>
                                <canvas id="difficultyChart"></canvas>
                            </div>

                            <div class="card">
                                <h3 class="card-subtitle">üéØ Search Intent Breakdown</h3>
                                <canvas id="intentChart"></canvas>
                            </div>
                        </div>

                        <div class="card">
                            <h3 class="card-subtitle">üöÄ Top Opportunities</h3>
                            <div id="topOpportunities" class="opportunities-table">
                                <div class="loading-placeholder">Loading...</div>
                            </div>
                        </div>
                    </div>

                    <!-- Content Effectiveness Section -->
                    <div id="content-effectiveness-section" class="analytics-section">
                        <div class="insights-grid">
                            <div class="card">
                                <h3 class="card-subtitle">üìù Topic Success Rate</h3>
                                <div id="topicSuccess" class="insights-content">
                                    <div class="loading-placeholder">Loading...</div>
                                </div>
                            </div>

                            <div class="card">
                                <h3 class="card-subtitle">üîë Keyword Coverage</h3>
                                <div id="keywordCoverage" class="insights-content">
                                    <div class="loading-placeholder">Loading...</div>
                                </div>
                            </div>
                        </div>

                        <div class="card">
                            <h3 class="card-subtitle">üìä Performance Over Time</h3>
                            <canvas id="performanceTimeChart"></canvas>
                        </div>
                    </div>

                    <!-- Search Insights Section -->
                    <div id="search-insights-section" class="analytics-section">
                        <div class="card">
                            <h3 class="card-subtitle">üèÜ Top Ranking Opportunities</h3>
                            <div id="rankingOpportunities" class="insights-content">
                                <div class="loading-placeholder">Loading...</div>
                            </div>
                        </div>

                        <div class="insights-grid">
                            <div class="card">
                                <h3 class="card-subtitle">‚öîÔ∏è Competition Analysis</h3>
                                <div id="competitionAnalysis" class="insights-content">
                                    <div class="loading-placeholder">Loading...</div>
                                </div>
                            </div>

                            <div class="card">
                                <h3 class="card-subtitle">üí° Recommendations</h3>
                                <div id="searchRecommendations" class="insights-content">
                                    <div class="loading-placeholder">Loading...</div>
                                </div>
                            </div>
                        </div>

                        <div class="card">
                            <h3 class="card-subtitle">üïµÔ∏è Content Gaps</h3>
                            <div id="contentGapsAnalysis" class="insights-content">
                                <div class="loading-placeholder">Loading...</div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Research Tab -->
                <div id="research-tab" class="tab-content">
                    <div class="tab-header">
                        <h2 class="tab-title">üîç Content Research & Analysis</h2>
                        <div class="tab-actions">
                            <button onclick="runQuickResearch()" class="btn-primary">
                                <svg class="btn-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z"/>
                                </svg>
                                Quick Research
                            </button>
                        </div>
                    </div>

                    <!-- Research Controls -->
                    <div class="research-controls">
                        <div class="research-tabs">
                            <button class="research-tab-btn active" onclick="showResearchSection('competitor')">Competitor Analysis</button>
                            <button class="research-tab-btn" onclick="showResearchSection('topics')">Topic Analysis</button>
                            <button class="research-tab-btn" onclick="showResearchSection('insights')">Research Insights</button>
                        </div>

                        <!-- Competitor Analysis Section -->
                        <div id="competitor-section" class="research-section active">
                            <h3>üéØ Competitor Content Analysis</h3>
                            <p class="research-description">Analyze competitor blogs to identify content gaps and opportunities.</p>
                            
                            <div class="form-group">
                                <label class="form-label">Competitor Domains (comma-separated)</label>
                                <input type="text" id="competitorDomains" class="form-input" 
                                    placeholder="https://www.paulaschoice.com, https://www.cerave.com, https://theordinary.com"
                                    value="https://www.paulaschoice.com/expert-advice, https://www.cerave.com/skin-smarts, https://theordinary.com/en-us/blog">
                                <small class="form-help">Enter blog URLs of competitors you want to analyze</small>
                            </div>

                            <div class="form-group">
                                <label class="form-label">Keywords of Interest (comma-separated)</label>
                                <input type="text" id="researchKeywords" class="form-input" 
                                    placeholder="skincare routine, anti-aging, acne treatment, moisturizer, serum"
                                    value="skincare routine, anti-aging, acne treatment, moisturizer, serum, cleanser, SPF, retinol, hyaluronic acid, skin barrier">
                                <small class="form-help">Keywords relevant to your business domain</small>
                            </div>

                            <button onclick="analyzeCompetitors()" class="btn-primary btn-full">
                                <svg class="btn-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"/>
                                </svg>
                                Analyze Competitors
                            </button>
                        </div>

                        <!-- Topic Analysis Section -->
                        <div id="topics-section" class="research-section">
                            <h3>üìä Advanced Topic Analysis</h3>
                            <p class="research-description">Discover trending topics and analyze them for content opportunities.</p>
                            
                            <div class="form-group">
                                <label class="form-label">Domain Keywords</label>
                                <input type="text" id="topicKeywords" class="form-input" 
                                    placeholder="ai, machine learning, data science, automation"
                                    value="ai, technology, innovation">
                                <small class="form-help">Keywords that define your content focus area</small>
                            </div>

                            <div class="form-group">
                                <label class="form-label">Max Topics to Analyze</label>
                                <select id="maxTopics" class="form-input">
                                    <option value="15">15 topics</option>
                                    <option value="25" selected>25 topics</option>
                                    <option value="50">50 topics</option>
                                </select>
                            </div>

                            <button onclick="analyzeTopics()" class="btn-primary btn-full">
                                <svg class="btn-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"/>
                                </svg>
                                Analyze Topics
                            </button>
                        </div>

                        <!-- Insights Section -->
                        <div id="insights-section" class="research-section">
                            <h3>üí° Research Insights</h3>
                            <p class="research-description">View latest research findings and content recommendations.</p>
                            
                            <div class="insights-actions">
                                <button onclick="loadResearchInsights()" class="btn-primary">
                                    <svg class="btn-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"/>
                                    </svg>
                                    Refresh Insights
                                </button>
                                <button onclick="loadTopicRecommendations()" class="btn-secondary">
                                    <svg class="btn-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"/>
                                    </svg>
                                    Topic Recommendations
                                </button>
                            </div>

                            <div id="insights-content" class="insights-content">
                                <p class="insights-placeholder">Run research analysis first to see insights here.</p>
                            </div>
                        </div>
                    </div>

                    <!-- Results Area -->
                    <div id="researchResults" class="research-results"></div>
                    <div id="topicAnalysisResults" class="research-results"></div>
                </div>

                <!-- SEO Strategy Tab -->
                <div id="seo-tab" class="tab-content">
                    <div class="tab-header">
                        <h2 class="tab-title">üöÄ SEO Strategy Agent</h2>
                        <div class="tab-actions">
                            <button onclick="runQuickSEOAnalysis()" class="btn-primary">
                                <svg class="btn-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z"/>
                                </svg>
                                Quick SEO Analysis
                            </button>
                        </div>
                    </div>

                    <!-- SEO Controls -->
                    <div class="seo-controls">
                        <div class="seo-tabs">
                            <button class="seo-tab-btn active" onclick="showSEOSection('keywords')">Keyword Research</button>
                            <button class="seo-tab-btn" onclick="showSEOSection('briefs')">Content Briefs</button>
                            <button class="seo-tab-btn" onclick="showSEOSection('seo-insights')">SEO Insights</button>
                        </div>

                        <!-- Keyword Research Section -->
                        <div id="keywords-section" class="seo-section active">
                            <h3>üîç Keyword Research</h3>
                            <p class="seo-description">Discover high-opportunity keywords for your content strategy.</p>
                            
                            <div class="form-group">
                                <label class="form-label">Seed Topics (comma-separated)</label>
                                <input type="text" id="seedTopics" class="form-input" 
                                    placeholder="skincare routine, anti-aging, acne treatment, moisturizer"
                                    value="skincare routine, anti-aging, acne treatment">
                                <small class="form-help">Enter topics to generate keyword variations from</small>
                            </div>

                            <div class="form-group">
                                <label class="form-label">Max Keywords per Topic</label>
                                <select id="maxKeywords" class="form-input">
                                    <option value="10">10 keywords</option>
                                    <option value="20" selected>20 keywords</option>
                                    <option value="30">30 keywords</option>
                                </select>
                            </div>

                            <button onclick="researchKeywords()" class="btn-primary btn-full">
                                <svg class="btn-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"/>
                                </svg>
                                Research Keywords
                            </button>
                        </div>

                        <!-- Content Briefs Section -->
                        <div id="briefs-section" class="seo-section">
                            <h3>üìã Content Brief Generator</h3>
                            <p class="seo-description">Create detailed content briefs based on keyword research.</p>
                            
                            <div class="form-group">
                                <label class="form-label">Top Keywords to Generate Briefs For</label>
                                <select id="maxBriefs" class="form-input">
                                    <option value="3">3 briefs</option>
                                    <option value="5" selected>5 briefs</option>
                                    <option value="10">10 briefs</option>
                                </select>
                                <small class="form-help">Requires keyword research data first</small>
                            </div>

                            <button onclick="generateContentBriefs()" class="btn-primary btn-full">
                                <svg class="btn-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"/>
                                </svg>
                                Generate Content Briefs
                            </button>
                        </div>

                        <!-- SEO Insights Section -->
                        <div id="seo-insights-section" class="seo-section">
                            <h3>üí° SEO Insights</h3>
                            <p class="seo-description">View keyword research findings and content recommendations.</p>
                            
                            <div class="seo-actions">
                                <button onclick="loadKeywordResearch()" class="btn-primary">
                                    <svg class="btn-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"/>
                                    </svg>
                                    Refresh Keywords
                                </button>
                                <button onclick="loadContentBriefs()" class="btn-secondary">
                                    <svg class="btn-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"/>
                                    </svg>
                                    View Briefs
                                </button>
                            </div>

                            <div id="seo-insights-content" class="seo-insights-content">
                                <p class="seo-placeholder">Run keyword research first to see insights here.</p>
                            </div>
                        </div>
                    </div>

                    <!-- Results Area -->
                    <div id="keywordResults" class="seo-results"></div>
                    <div id="briefResults" class="seo-results"></div>
                </div>
                <!-- Settings Tab -->
                <div id="settings-tab" class="tab-content">
                    <h2 class="tab-title">Settings</h2>
                    <div class="card form-card">
                        <form id="settingsForm" onsubmit="saveSettings(event)">
                            <div class="settings-section">
                                <h3 class="settings-title">LLM Configuration</h3>
                                <div class="form-group">
                                    <label class="form-label">Model</label>
                                    <input type="text" name="llm_model" class="form-input" id="llmModel">
                                </div>
                                <div class="form-group">
                                    <label class="form-label">Temperature</label>
                                    <input type="number" name="temperature" class="form-input" step="0.1" min="0" max="2" id="temperature">
                                </div>
                            </div>

                            <div class="settings-section">
                                <h3 class="settings-title">Content Preferences</h3>
                                <label class="checkbox-label">
                                    <input type="checkbox" name="auto_publish" id="autoPublish">
                                    <span>Auto-publish on approval</span>
                                </label>
                                <label class="checkbox-label">
                                    <input type="checkbox" name="generate_social" id="generateSocial">
                                    <span>Generate social repurposing</span>
                                </label>
                                <label class="checkbox-label">
                                    <input type="checkbox" name="require_fact_check" id="requireFactCheck">
                                    <span>Require fact-checking before publish</span>
                                </label>
                            </div>

                            <button type="submit" class="btn-primary btn-full">Save Settings</button>
                        </form>
                    </div>
                </div>
            </main>
        </div>
    </div>

    <!-- Generation Progress Modal -->
    <div id="progressModal" class="modal">
        <div class="modal-content">
            <h3 class="modal-title">Generating Content</h3>
            <div class="progress-container">
                <div class="progress-bar">
                    <div class="progress-fill" id="progressFill"></div>
                </div>
                <p class="progress-message" id="progressMessage">Initializing...</p>
            </div>
            <button onclick="closeProgressModal()" class="btn-secondary" id="closeProgressBtn" style="display: none;">Close</button>
        </div>
    </div>

    <!-- Content View Modal -->
    <div id="contentModal" class="modal">
        <div class="modal-content modal-large">
            <div class="modal-header">
                <h3 class="modal-title" id="contentModalTitle">Content</h3>
                <button onclick="closeContentModal()" class="modal-close">&times;</button>
            </div>
            <div class="modal-body">
                <div id="contentModalBody"></div>
            </div>
        </div>
    </div>

    <script src="/static/app.js"></script>
</body>
</html>
